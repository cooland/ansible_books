---
 - hosts: all

   vars:
     etc_hosts:
       '192.168.56.101': 'pg1 etcd1'
       '192.168.56.102': 'pg2 etcd2'
       '192.168.56.103': 'pg3 etcd3'
       '192.168.56.104': 'ansible'
   tasks:

   - name: print variables
     debug: 
       msg: "key is {{ item.key }} and value is {{ item.value }}"
     with_dict: "{{ etc_hosts }}"  

   - name: Replace a localhost entry searching for a literal string to avoid escaping
     lineinfile:
       path: /etc/hosts
       regexp: '^{{ item.key }}'
       line: "{{ item.key }} {{ item.value }}"
       state: present
       owner: root
       group: root
       mode: '0644'
     with_dict: "{{ etc_hosts }}" 

